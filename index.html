<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>منصة الرصد التعاوني المتقدمة</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment-hijri/2.1.2/moment-hijri.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body { font-family: 'Cairo', sans-serif; background: #f8fafc; }
        .login-container { max-width: 400px; margin: 70px auto; background: #fff; box-shadow: 0 3px 12px #0001; border-radius: 10px; padding: 2em; }
        .login-container h2 { text-align: center; color: #2563eb; }
        .login-container label { display: block; margin-top: 18px; color: #1e293b; font-weight: 700; }
        .login-container input { width: 100%; padding: 8px; border: 1px solid #e2e8f0; border-radius: 6px; margin-top: 5px; font-size: 1em; }
        .login-container button { width: 100%; margin-top: 22px; padding: 10px; background: #2563eb; color: #fff; font-weight: bold; border: none; border-radius: 6px; cursor: pointer; transition: background 0.2s; }
        .login-container button:hover { background: #1d4ed8; }
        .app-container { max-width: 1100px; margin: 40px auto; background: #fff; border-radius: 10px; box-shadow: 0 3px 12px #0001; padding: 2em; }
        nav { display: flex; gap: 10px; margin-bottom: 20px; }
        .nav-btn { background: #f2f6fa; color: #2563eb; border: none; padding: 10px 18px; border-radius: 6px; cursor: pointer; font-weight: bold; transition: background 0.2s; }
        .nav-btn:hover, .nav-btn.active { background: #2563eb; color: #fff; }
        #pageContent h3 { color: #2563eb; margin-bottom: 12px; }
        .floating-action { position: fixed; left: 30px; bottom: 30px; background: #10b981; color: #fff; border-radius: 50%; width: 56px; height: 56px; border: none; font-size: 2em; cursor: pointer; box-shadow: 0 3px 12px #0002; z-index: 100; }
        .modal { position: fixed; top:0;left:0; width:100vw; height:100vh; background:#0006; display:flex; align-items:center; justify-content:center; z-index:999; }
        .modal-content { background:#fff; padding:2em; border-radius:10px; min-width:340px; max-width:90vw; }
        .modal-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:18px; }
        .modal-title { color:#2563eb; }
        .modal-close { background:none; border:none; font-size:2em; color:#ef4444; cursor:pointer; }
        label { font-weight:600; color:#2563eb; margin-top:12px; display:block; }
        input, textarea { width:100%; padding:7px; border:1px solid #e2e8f0; border-radius:6px; margin-top:5px; font-size:1em; }
        button[type="submit"] { background:#2563eb; color:#fff; border:none; padding:10px 22px; border-radius:6px; margin-top:20px; font-weight:bold; cursor:pointer; }
        button[type="submit"]:hover { background:#1d4ed8; }
    </style>
</head>
<body>
    <div id="loginContainer" class="login-container">
        <form id="loginForm">
            <h2>تسجيل الدخول</h2>
            <label for="username">اسم المستخدم</label>
            <input type="text" id="username" required>
            <label for="password">كلمة المرور</label>
            <input type="password" id="password" required>
            <button type="submit">دخول</button>
            <div id="loginError" style="color:red;display:none;"></div>
        </form>
    </div>
    <div id="appContainer" class="app-container" style="display:none;">
        <nav>
            <button class="nav-btn active" data-page="dashboard">لوحة التحكم</button>
            <button class="nav-btn" data-page="observations">الملاحظات</button>
            <button class="nav-btn" data-page="users">المستخدمون</button>
        </nav>
        <div id="pageContent"></div>
    </div>
    <button class="floating-action" onclick="showAddObservationPage()" title="إضافة ملاحظة سريعة">
        <i class="fas fa-plus"></i>
    </button>
    <div id="generalModal" class="modal" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">عنوان المودال</h3>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div id="modalBody"></div>
        </div>
    </div>
    <script>
        document.getElementById('loginForm').onsubmit = function(e) {
            e.preventDefault();
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value.trim();
            if(username === "admin" && password === "123456"){
                document.getElementById('loginContainer').style.display = 'none';
                document.getElementById('appContainer').style.display = 'block';
                loadPage('dashboard');
            } else {
                document.getElementById('loginError').textContent = 'بيانات الدخول خاطئة!';
                document.getElementById('loginError').style.display = 'block';
            }
        };
        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.onclick = function() {
                document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
                this.classList.add('active');
                loadPage(this.getAttribute('data-page'));
            }
        });
        function loadPage(page) {
            let content = '';
            switch(page){
                case 'dashboard':
                    content = '<h3>لوحة التحكم</h3><p>مرحبًا بك في نظام الرصد التعاوني.</p>';
                    break;
                case 'observations':
                    content = '<h3>الملاحظات</h3><p>عرض وإضافة الملاحظات.</p>';
                    break;
                case 'users':
                    content = '<h3>المستخدمون</h3><p>إدارة المستخدمين.</p>';
                    break;
                default:
                    content = '<h3>صفحة غير موجودة</h3>';
            }
            document.getElementById('pageContent').innerHTML = content;
        }
        function closeModal() {
            document.getElementById('generalModal').style.display = 'none';
        }
        function showModal(title, content) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalBody').innerHTML = content;
            document.getElementById('generalModal').style.display = 'flex';
        }
        function showAddObservationPage() {
            showModal('إضافة ملاحظة', `
                <form id="addObservationForm">
                    <label>العنوان:</label>
                    <input type="text" id="obsTitle" required>
                    <label>الوصف:</label>
                    <textarea id="obsDesc"></textarea>
                    <button type="submit">إضافة</button>
                </form>
            `);
            document.getElementById('addObservationForm').onsubmit = function(e){
                e.preventDefault();
                closeModal();
                alert('تمت إضافة الملاحظة بنجاح!');
            }
        }
    </script>
</body>
</html>
